# 向量值函数

> 向量值函数：函数的\\(x\\)称为变量，\\(y\\)称为值。如果函数的值是一个高维空间的点，或者说y是一个向量\\(N\\)称为向量值函数。
> [24:41] \\(m\\) 维向量值函数可以看作最是\\(m\\)个相互无关的普通函数   

## 向量值函数（多个应变量）  

* 先看**单变量**的：  
$$
f:R^1 → R^m 
$$ 

$$
x →\begin{pmatrix}y_1
 \\\\\vdots 
 \\\\y_m
\end{pmatrix}
$$

* 看成多个单变量函数，各个函数独立无关   
• 一般会用同样的基函数（共享基函数）     

$$
\begin{cases}
 y_1=f_1(x)\\\\
\vdots  \\\\
y_m=f_m(x)
\end{cases}
$$

> &#x2705; f1, f2, ..., fm是基于同一基函数但具有不同系数的函数。  
> &#x1F50E; [26:37]图

# 向量值函数（多个应变量）  
$$
f:R^1 → R^m 
$$   

$$
\begin{cases}
 y_1=f_1(x)\\\\
\vdots  \\\\
y_m=f_m(x)
\end{cases}
$$

* 几何解释：   
• 一个实数\\(𝑥∈𝑅^1\\)映射到𝑚维空\\(𝑅^m\\)的一个点，轨迹构成\\(𝑅^m\\)的一条“曲线”      
• 本质维度为1   

![](../assets/向量-1.png)  

> 曲线的嵌入空间是高维，本质维度为1
> 把\\(x\\)的取值范围归一化到 [0，1]，那么任意一个\\(x\\)值对应[0，1]上的一个点。
\\(x 从 0 走到 1，y\\)在高维空间中画出一条弧线。

 

## 特例：平面参数曲线

$$
f:R^1 → R^2 
$$ 

$$
\begin{cases}
 x=x(t)\\\\
y=y(t)
\end{cases}
$$

$$
t\in [0,1]
$$

* 几何解释：    
• 一条曲线由一个变量参数𝑡决定，也称为单参数曲线   
• 参数𝑡可看成该曲线的“时间”变量      
• 可灵活表达非函数型的曲线（任意曲线）      

![](../assets/向量-2.png) 

> 在这一页中， \\(t 是变量，(x,y)\\)是值　　

[32:28] 三维流形曲面，本质上是二维。    

流形、任意一个点的无穷小邻城等价于平面圆盘。  

## 特例：空间参数曲线

$$
f:R^1 → R^3 
$$ 


$$
\begin{cases}
 x=x(t) \\\\
y=y(t)  \\\\
z=z(t)
\end{cases}
$$



$$
t\in [0,1]
$$

* 几何解释:     
• 一条曲线由一个变量参数𝑡决定，也称为单参数曲线      
• 参数𝑡可看成该曲线的“时间”变量    
• 可灵活表达非函数型的曲线（任意曲线）   

![](../assets/向量-3.png)   

## 特例：参数曲面

$$
f:R^2 → R^3 
$$ 

$$
\begin{cases}
 x=x(u,v) \\\\
y=y(u,v)  \\\\
z=z(u,v)
\end{cases}
$$




$$
(u,v)\in [0,1]\times [0,1]
$$

* 几何解释：    
• 一张曲面由两个参数\\((u,v)\\)决定，也称为双参数曲面       
• 可灵活表达非函数型的任意曲面     

![](../assets/向量-4.png)   

> [31:55图]流形
> 流形：无穷小区域，等价于二维平面的圆盘


## 特例：二维映射

$$
f:R^2 → R^2 
$$ 

$$
\begin{cases}
 x=x(u,v) \\\\
y=y(u,v)
\end{cases}
$$



$$
(u,v)\in [0,1]\times [0,1]
$$

* 几何解释：    
• 二维区域之间的映射     
• 可看成特殊的曲面（第三个维度始终为\\(0\\)）      
• 应用：图像变形     

![](../assets/向量-5.png)  

## 特例：二维映射   


$$
f:R^3 → R^3 
$$ 


$$
\begin{cases}
 x=x(u,v,w)\\\\
y=y(u,v,w)  \\\\
z=z(u,v,w)
\end{cases}
$$




$$
(u,v,w)\in [0,1]^3
$$

* 几何解释：   
• 三维体区域之间的映射    
• 应用：体形变、体参数化    
![](../assets/向量-6.png)   

## 特例：降维映射（低维投影）   

![](../assets/向量-7.png)   

* 降维映射**一般有信息丢失**    
• 丢失的信息**大部分情况下不可逆**，即无法恢复    

> 高维到低维，如果多个点映射到一个点，就会发生信息丢失，不可恢复。  　　　
> **我的思考** 但信息丢失不定是坏事，有可能本身就是一个点，由于躁声的原因表现为多个点，也有可能是次要信息，不希望提取出­来。   
如果值维度低于变量的本质维度，则必定不可恢复。      


## 一般映射   

$$
f:R^n → R^m 
$$ 

* 如果\\(n<m\\)，为低维到高维的映射（高维的超曲面，\\(n\\)维流形曲面），**本征维度**为\\(n\\)   
* 如果\\(n>m\\)，为降维映射    
• 一般信息有损失   
• 如果\\(𝑅^n\\)中的点集刚好位于一个\\(𝑚\\)维（或小于\\(𝑚\\)）的流形上，则映射可能是无损的，即可以被恢复的    

> [?] 流形跟维度有关？\\(m\\)维的流形？   

## 低维空间之间的函数

![](../assets/向量-8.png)   

> [42：00] 其中黄色为参娄文学习曲面

# 曲线拟合

> [42:43]

## 曲线拟合问题

• 输入：给定平面上系列点\\((x_i,y_i),i=1,2,...,n\\)     

• 输出：一条参数曲线，拟合这些点   

$$
f:R^1 → R^2 
$$ 

$$
\begin{cases}
 x=x(t)\\\\
y=y(t) 
\end{cases}
$$


$$
t\in [0,1]
$$

![](../assets/曲线-1.png)  

> [42：50]图,非函数型
> \\(x=x(t)\\)，用\\(x(t)\\)拟合数据点\\(x_i\\)，但\\(x_i\\)与\\(t\\)没有关系，需要人为构造这个关系。即构造\\((t_i,x_i)\\)，这个过程称为参数化，\\(t_i\\)是参数。    
\\(x(t)\\)拟合点\\((t_i,x_i)\\)，\\(y(t)\\)拟合点\\((t_i,y_i)\\)  

**应该怎么做？**   


## 曲线拟合问题    

![](../assets/曲线-2.png)   

$$
\begin{cases}
 x=x(t)\\\\
y=y(t) 
\end{cases}
$$




$$
t\in [0,1]
$$

> 矢量符号化表达：
$$
p=p(t)=\binom{x(t)}{y(t)} 
$$

• 问题：对数据点\\((x_i,y_i)\\)，对应哪个参数\\(𝑡_i\\)？   
• 误差度量： 
$$
E= {\textstyle \sum_{i=1}^{n}} ||\binom{x(t_i)}{ y(t_i)}-\binom{x_i}{y_i} ||^2= {\textstyle \sum_{i=1}^{n}}||p(t_i)-p_i||^2
$$
 

## 参数化问题     

• 求数据点所对应的参数：一个降维的问题！   
![](../assets/曲线-2.png)     

$$
\begin{cases}
 x=x(t)\\\\
y=y(t)
\end{cases}
$$



$$
t\in [0,1]
$$

• 然后极小化误差度量：  
 
$$
E=  {\textstyle \sum_{i=1}^{n}}||p(t_i)-p_i||^2
$$


## 点列的参数化

* Equidistant (uniform) parameterization     
• \\(𝑡_{i+1}-𝑡_i=const\\)   
• \\(e.g.𝑡_i=i\\)   
• Geometry of the data points is not considered       
* Chordal parameterization      
• \\(𝑡_{i+1}-𝑡_i=||k_{i+1}-k_i||\\)    
• Parameter intervals proportional to the distances of
neighbored control points      

> 构造\\((t_i,x_i)\\)和\\((t_i,y_i)\\)主要是如何取\\(t_i\\)   
通常\\(t_0=0,t_n=1\\)    
Chordal 参数的距离与点的距离成正比    

## 点列的参数化   

* Centripetal parameterization   
• \\(𝑡_{i+1}-𝑡_i=\sqrt{||k_{i+1}-k_i||} \\)  
* Foley parameterization     
• Involvement of angles in the control polygon      


$$
t_{i+1}-t_i=||k_{i+1}-k_i||\cdot (1+\frac{3}{2}\frac{\hat{\alpha } _i||k_{i}-k_{i-1}||}{||k_i-k_{i-1}||+||k_{i+1}-K_i||}+\frac{3}{2} \frac{\hat{\alpha} _{i+1}||k_{i+1}-k_i|| }{||k_{i+1}-k_i||+||k_{i+2}-k{i+1}||}  )
$$

with

$$
\hat{\alpha } _i=\min (\pi -\alpha _i,\frac{\pi }{2} )
$$

and

$$
\alpha_{i}=angle(k_{i-1},k_i,k_{i+1})
$$


## 一个例子  
• Examples: Uniform parameterization       

![](../assets/曲线-3.png) 


## 一个例子   

• Examples: Chordal parameterization       

![](../assets/曲线-9.png)  

> 用 uniform 角处比较尖锐，更好的参数化方法会得到更平滑的曲线。
参数化的本质是降维。    
如果降维的维度不对。或维度对了但分布不好，都会导致降维结果不好。[58:40]

## 一个例子  

• Examples: Centripetal parameterization    

![](../assets/曲线-4.png)   


##   一个例子    

• Examples: Foley parameterization   

![](../assets/曲线-5.png)  

## 另一个例子  

![](../assets/曲线-6.png)   


点的参数化对曲线拟合的影响很大，需要**好的参数化**！  


## 曲面参数化  

• 三维的点找二维的参数：一个降维的问题！   

![](../assets/曲线-7.png)   

> 参数化约束，保持边长、网格面积。角度，就能得到比较好的参数结果。    

## 曲面参数化的应用  

• 纹理映射  
![](../assets/曲线-8.png)   

# 地图绘制     

> 可展曲面展成平面不会扭曲。    
球面不可展，展开必定扭曲。  